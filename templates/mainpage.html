{% extends 'base.html' %}

{% block content %}
    <header>
        {% include 'header.html' %} 
    </header>

    <main class="main-container">
        {% include 'navbar.html' %}
    </main>

    <div class="main-container2">
        <div class="wrapper">
            <div class="first-container">
                {% if user_id %}
                    <h2 style="margin:10px;">Welcome back, {{ user_name }}!</h2>
                {% else %}
                    <h2 style="margin:10px;">Welcome back!</h2>
                {% endif %}
            </div>
            <div class="second-container">
                <h3>User Data</h3>
                <p><strong>Trainer:</strong> 
                {% if assigned_trainer %}
                    {{ assigned_trainer.firstname }} {{ assigned_trainer.lastname }}
                {% else %}
                    No trainer assigned.
                {% endif %}
                </p>
            </div>
        </div>
        <div class="swrapper">
            <div class="third-container">
                <p style="margin:10px;">Calories intake</p>
                <div id="pie-chart-container" style="width: 200px; height: 200px; margin:auto;">
                    <canvas id="CaloriesChart"></canvas>
                </div>
                <label for="fname">First name:</label>
                <input type="text" id="fname" name="fname">
            </div>
            <div class="fourth-container">
                <p style="margin:10px;">Carbs intake</p>
                <div id="pie-chart-container" style="width: 200px; height: 200px; margin:auto;">
                    <canvas id="CarbsChart"></canvas>
                </div>
                <label for="fname">First name:</label>
                <input type="text" id="fname" name="fname">
            </div>
        </div>
        <div class="twrapper">
            <div class="fifth-container">
                <p style="margin:10px;">Protein intake</p>
                <div id="pie-chart-container" style="width: 200px; height: 200px; margin: auto;">
                    <canvas id="ProteinChart"></canvas>
                </div>
            </div> 
            <div class="sixth-container">
                <div class="water-intake-container">
                    <div id="pie-chart-container" style="width: 200px; height: 200px; margin-left: 10px;">
                        <canvas id="waterChart"></canvas>
                        <p style="margin:10px;">Total water intake: 1000/3000ml</p>
                    </div>

                    <div id="addWaterButtons" class="button-container">
                        <div class="button-item">
                            <lord-icon
                                src="https://cdn.lordicon.com/yowvhtxf.json"
                                trigger="loop"
                                state="loop-cycle"
                                colors="primary:#2526,secondary:#246cd0"
                                style="width:100px;height:100px">
                            </lord-icon>
                            <button action="add250ml">250ml</button>
                        </div>
                        <div class="button-item">
                            <lord-icon
                                src="https://cdn.lordicon.com/yowvhtxf.json"
                                trigger="loop"
                                state="loop-cycle"
                                colors="primary:#2526,secondary:#246cd0"
                                style="width:100px;height:100px">
                            </lord-icon>
                            <button action="add500ml">500ml</button>
                        </div>
                        <div class="button-item">
                            <lord-icon
                                src="https://cdn.lordicon.com/yowvhtxf.json"
                                trigger="loop"
                                state="loop-cycle"
                                colors="primary:#2526,secondary:#246cd0"
                                style="width:100px;height:100px">
                            </lord-icon>
                            <button action="add1l">1L</button>
                        </div>
                    </div>                    
                </div>
            </div>            
        </div>

        <div class="fwrapper">
            <div class="seventh-container">
                <p style="margin:10px;">Weekly progress:</p>
                <div id="chart-container" style="width: 600px; height: 400px; margin:auto; padding-top: 20px">
                    <canvas id="WorkoutChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock %}
